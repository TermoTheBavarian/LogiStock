-- H2 2.3.232;
;             
CREATE USER IF NOT EXISTS "SA" SALT '705aaef6a3f3bf8a' HASH 'd69e8c374f3bc57ff49f57debcbaf581ef619b2f5d0600f90d7bb18eb2902a3d' ADMIN;         
CREATE MEMORY TABLE "PUBLIC"."ADDRESS"(
    "ADDRESS_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 3) NOT NULL,
    "BUILDING_NAME" CHARACTER VARYING(255) NOT NULL,
    "CITY" CHARACTER VARYING(255) NOT NULL,
    "COUNTRY" CHARACTER VARYING(255) NOT NULL,
    "PINCODE" CHARACTER VARYING(255) NOT NULL,
    "STATE" CHARACTER VARYING(255) NOT NULL,
    "STREET" CHARACTER VARYING(255) NOT NULL,
    "USER_ID" BIGINT
);            
ALTER TABLE "PUBLIC"."ADDRESS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_E" PRIMARY KEY("ADDRESS_ID");              
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.ADDRESS; 
INSERT INTO "PUBLIC"."ADDRESS" VALUES
(1, 'Silver Crest', 'Pune', 'India', '412207', 'Maharashtra', 'Datta Mandir', 1),
(2, 'Golden Crest', 'Mumbai', 'India', '412207', 'Maharashtra', 'Malad Street', 3); 
CREATE MEMORY TABLE "PUBLIC"."CART_ITEM"(
    "CART_ITEM_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 2) NOT NULL,
    "DISCOUNT" FLOAT(53),
    "PRODUCT_PRICE" FLOAT(53),
    "QUANTITY" INTEGER,
    "CART_ID" BIGINT,
    "PRODUCT_ID" BIGINT
);          
ALTER TABLE "PUBLIC"."CART_ITEM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_B" PRIMARY KEY("CART_ITEM_ID");          
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.CART_ITEM;               
INSERT INTO "PUBLIC"."CART_ITEM" VALUES
(1, NULL, 15000.0, 2, 1, 1);         
CREATE MEMORY TABLE "PUBLIC"."CARTS"(
    "CART_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 2) NOT NULL,
    "TOTAL_PRICE" FLOAT(53),
    "USER_ID" BIGINT
);   
ALTER TABLE "PUBLIC"."CARTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_3" PRIMARY KEY("CART_ID");   
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.CARTS;   
INSERT INTO "PUBLIC"."CARTS" VALUES
(1, 30000.0, 1);         
CREATE MEMORY TABLE "PUBLIC"."CATEGORY"(
    "CATEGORY_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 5) NOT NULL,
    "CATEGORY_NAME" CHARACTER VARYING(255) NOT NULL
);           
ALTER TABLE "PUBLIC"."CATEGORY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_31" PRIMARY KEY("CATEGORY_ID");           
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.CATEGORY;
INSERT INTO "PUBLIC"."CATEGORY" VALUES
(1, 'Electronics'),
(2, 'Fashion'),
(3, 'Home Appliances'),
(4, 'Books');          
CREATE MEMORY TABLE "PUBLIC"."ORDER_ITEMS"(
    "ORDER_ITEM_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "DISCOUNT" FLOAT(53) NOT NULL,
    "ORDERED_PRODUCT_PRICE" FLOAT(53) NOT NULL,
    "QUANTITY" INTEGER,
    "ORDER_ID" BIGINT,
    "PRODUCT_ID" BIGINT
);           
ALTER TABLE "PUBLIC"."ORDER_ITEMS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ORDER_ITEM_ID");       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ORDER_ITEMS;             
CREATE MEMORY TABLE "PUBLIC"."ORDERS"(
    "ORDER_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "EMAIL" CHARACTER VARYING(255) NOT NULL,
    "ORDER_DATE" DATE,
    "ORDER_STATUS" CHARACTER VARYING(255),
    "TOTAL_AMOUNT" FLOAT(53),
    "ADDRESS_ID" BIGINT,
    "PAYMENT_ID" BIGINT
);
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ORDER_ID"); 
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ORDERS;  
CREATE MEMORY TABLE "PUBLIC"."PAYMENTS"(
    "PAYMENT_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "PAYMENT_METHOD" CHARACTER VARYING(255) NOT NULL,
    "PG_NAME" CHARACTER VARYING(255),
    "PG_PAYMENT_ID" CHARACTER VARYING(255),
    "PG_RESPONSE_MESSAGE" CHARACTER VARYING(255),
    "PG_STATUS" CHARACTER VARYING(255)
);          
ALTER TABLE "PUBLIC"."PAYMENTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_81" PRIMARY KEY("PAYMENT_ID");            
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PAYMENTS;
CREATE MEMORY TABLE "PUBLIC"."PRODUCTS"(
    "PRODUCT_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 12) NOT NULL,
    "DESCRIPTION" CHARACTER VARYING(255),
    "DISCOUNT" FLOAT(53),
    "PRICE" FLOAT(53),
    "PRODUCT_IMAGE" CHARACTER VARYING(255),
    "PRODUCT_NAME" CHARACTER VARYING(255),
    "QUANTITY" INTEGER,
    "SPECIAL_PRICE" FLOAT(53),
    "CATEGORY_ID" BIGINT,
    "SELLER_ID" BIGINT
);             
ALTER TABLE "PUBLIC"."PRODUCTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_F" PRIMARY KEY("PRODUCT_ID");             
-- 11 +/- SELECT COUNT(*) FROM PUBLIC.PRODUCTS;               
INSERT INTO "PUBLIC"."PRODUCTS" VALUES
(1, NULL, NULL, 15000.0, 'https://images-cdn.ubuy.co.in/65fe92b11e31136d9375c88c-mini-smartphone-child-phone-the.jpg', 'Smartphone', 10, 15000.0, 1, NULL),
(2, NULL, NULL, 500.0, 'https://thebanyantee.com/cdn/shop/files/Black-T-shirt.jpg?v=1721380366', 'T-Shirt', 50, 500.0, 2, NULL),
(3, NULL, NULL, 20000.0, 'https://whirlpoolindia.vtexassets.com/assets/vtex.file-manager-graphql/images/cd054d04-0341-407e-ae36-be960d4d86b3___6c49c859c2d58529094d2822a3ceb555.jpg', 'Washing Machine', 5, 20000.0, 3, NULL),
(4, NULL, NULL, 25000.0, 'https://www.livemint.com/lm-img/img/2024/11/22/600x338/refrigerator_under_35000_1732276968144_1732276974547.jpg', 'Refrigerator', 8, 25000.0, 3, NULL),
(5, NULL, NULL, 300.0, 'https://tariqumrani.blog/wp-content/uploads/2024/04/english-novel.webp?w=1024', 'Novel', 100, 300.0, 4, NULL),
(6, NULL, NULL, 10000.0, 'https://aws-obg-image-lb-4.tcl.com/content/dam/brandsite/region/global/products/tablets/tcl-nxtpaper-14/id/1.png?t=1721272443153&w=800&webp=undefined&dpr=2.625&rendition=1068', 'Tablet', 12, 10000.0, 1, NULL),
(7, NULL, NULL, 800.0, 'https://m.media-amazon.com/images/I/513QvuEc9OL._AC_UY1100_.jpg', 'Hoodie', 40, 800.0, 2, NULL),
(8, NULL, NULL, 2500.0, 'https://shopatsc.com/cdn/shop/products/CH520_1000x1000_Blue_G.jpg?v=1681219211', 'Headphones', 25, 2500.0, 1, NULL),
(9, NULL, NULL, 2000.0, 'https://fausto.in/cdn/shop/products/FST_FOBWC-1503_GOLDEN_1-1_MOOD_6611f676-23f5-4eb0-bd7b-c527c4123b70.jpg?v=1679576984', 'Shoes', 30, 2000.0, 2, NULL),
(10, NULL, NULL, 1500.0, 'https://m.media-amazon.com/images/I/81p-MlSSh2L._AC_UF894,1000_QL80_.jpg', 'Blender', 15, 1500.0, 3, NULL),
(11, NULL, NULL, 35000.0, 'https://i.pinimg.com/736x/e7/5d/db/e75ddbda351d44e24b6b8099fa200aad.jpg', 'Camera', 7, 35000.0, 1, NULL);       
CREATE MEMORY TABLE "PUBLIC"."ROLE"(
    "ROLE_ID" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 4) NOT NULL,
    "ROLE_NAME" ENUM('ROLE_ADMIN', 'ROLE_SELLER', 'ROLE_USER')
);       
ALTER TABLE "PUBLIC"."ROLE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_26" PRIMARY KEY("ROLE_ID");   
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.ROLE;    
INSERT INTO "PUBLIC"."ROLE" VALUES
(1, 'ROLE_USER'),
(2, 'ROLE_SELLER'),
(3, 'ROLE_ADMIN');
CREATE MEMORY TABLE "PUBLIC"."USER_ROLE"(
    "USER_ID" BIGINT NOT NULL,
    "ROLE_ID" INTEGER NOT NULL
); 
ALTER TABLE "PUBLIC"."USER_ROLE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_BC" PRIMARY KEY("USER_ID", "ROLE_ID");   
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.USER_ROLE;               
INSERT INTO "PUBLIC"."USER_ROLE" VALUES
(1, 1),
(2, 2),
(3, 1),
(3, 2),
(3, 3);          
CREATE MEMORY TABLE "PUBLIC"."USERS"(
    "USER_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 4) NOT NULL,
    "EMAIL" CHARACTER VARYING(255),
    "PASSWORD" CHARACTER VARYING(120) NOT NULL,
    "USER_NAME" CHARACTER VARYING(255) NOT NULL
);
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("USER_ID");   
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.USERS;   
INSERT INTO "PUBLIC"."USERS" VALUES
(1, 'user1@example.com', '$2a$10$QbJeCEsu.HHIRILORP5HY.fR4SmPFSMWzR2M7oiYyttaEKqhoBtTy', 'user1'),
(2, 'seller1@example.com', '$2a$10$Nd0Ikapuz6xyqhYLNWo7/.GJI45Ll7nShxAcf7coDr.UHL972I8.C', 'seller1'),
(3, 'admin@example.com', '$2a$10$a.5xKcquGX6XqplC6P8ZjOzls8C67IPW5gV8.0USZsv1X6ry4Uab.', 'admin');           
CREATE MEMORY TABLE "PUBLIC"."WISHLIST"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CREATED_AT" TIMESTAMP(6),
    "PRODUCT_ID" BIGINT,
    "USER_ID" BIGINT
);        
ALTER TABLE "PUBLIC"."WISHLIST" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_F4" PRIMARY KEY("ID");    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.WISHLIST;
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."UK6DOTKOTT2KJSP8VW4D0M25FB7" UNIQUE NULLS DISTINCT ("EMAIL");           
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."UKHAUJDJK1OHMEIXJHNHSLCHRP1" UNIQUE NULLS DISTINCT ("PAYMENT_ID");     
ALTER TABLE "PUBLIC"."CARTS" ADD CONSTRAINT "PUBLIC"."UK64T7OX312PQAL3P7FG9O503C2" UNIQUE NULLS DISTINCT ("USER_ID");         
ALTER TABLE "PUBLIC"."ORDER_ITEMS" ADD CONSTRAINT "PUBLIC"."FKBIOXGBV59VETRXE0EJFUBEP1W" FOREIGN KEY("ORDER_ID") REFERENCES "PUBLIC"."ORDERS"("ORDER_ID") NOCHECK;            
ALTER TABLE "PUBLIC"."PRODUCTS" ADD CONSTRAINT "PUBLIC"."FK1CF90ETCU98X1E6N9AKS3TEL3" FOREIGN KEY("CATEGORY_ID") REFERENCES "PUBLIC"."CATEGORY"("CATEGORY_ID") NOCHECK;       
ALTER TABLE "PUBLIC"."WISHLIST" ADD CONSTRAINT "PUBLIC"."FK6P7QHVY1BFKRI13U29X6PU8AU" FOREIGN KEY("PRODUCT_ID") REFERENCES "PUBLIC"."PRODUCTS"("PRODUCT_ID") NOCHECK;         
ALTER TABLE "PUBLIC"."CARTS" ADD CONSTRAINT "PUBLIC"."FKB5O626F86H46M4S7MS6GINNOP" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("USER_ID") NOCHECK;     
ALTER TABLE "PUBLIC"."ADDRESS" ADD CONSTRAINT "PUBLIC"."FK6I66IJB8TWGCQTETL8EEEED6V" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("USER_ID") NOCHECK;   
ALTER TABLE "PUBLIC"."PRODUCTS" ADD CONSTRAINT "PUBLIC"."FKBGW3LYXHSML3KFQNFR45O0VBJ" FOREIGN KEY("SELLER_ID") REFERENCES "PUBLIC"."USERS"("USER_ID") NOCHECK;
ALTER TABLE "PUBLIC"."ORDER_ITEMS" ADD CONSTRAINT "PUBLIC"."FKOCIMC7DTR037RH4LS4L95NLFI" FOREIGN KEY("PRODUCT_ID") REFERENCES "PUBLIC"."PRODUCTS"("PRODUCT_ID") NOCHECK;      
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."FKF5464GXWC32ONGDVKA2RTVW96" FOREIGN KEY("ADDRESS_ID") REFERENCES "PUBLIC"."ADDRESS"("ADDRESS_ID") NOCHECK;            
ALTER TABLE "PUBLIC"."USER_ROLE" ADD CONSTRAINT "PUBLIC"."FKJ345GK1BOVQVFAME88RCX7YYX" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("USER_ID") NOCHECK; 
ALTER TABLE "PUBLIC"."WISHLIST" ADD CONSTRAINT "PUBLIC"."FKTRD6335BLSEFL2GXPB8LR0GR7" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("USER_ID") NOCHECK;  
ALTER TABLE "PUBLIC"."CART_ITEM" ADD CONSTRAINT "PUBLIC"."FKQKQMVKMBTIAQN2NFQF25YMFS2" FOREIGN KEY("PRODUCT_ID") REFERENCES "PUBLIC"."PRODUCTS"("PRODUCT_ID") NOCHECK;        
ALTER TABLE "PUBLIC"."CART_ITEM" ADD CONSTRAINT "PUBLIC"."FKLQWUO55W1GM4779XCU3T4WNRD" FOREIGN KEY("CART_ID") REFERENCES "PUBLIC"."CARTS"("CART_ID") NOCHECK; 
ALTER TABLE "PUBLIC"."USER_ROLE" ADD CONSTRAINT "PUBLIC"."FKA68196081FVOVJHKEK5M97N3Y" FOREIGN KEY("ROLE_ID") REFERENCES "PUBLIC"."ROLE"("ROLE_ID") NOCHECK;  
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."FK8AOL9F99S97MTYHIJ0TVFJ41F" FOREIGN KEY("PAYMENT_ID") REFERENCES "PUBLIC"."PAYMENTS"("PAYMENT_ID") NOCHECK;           
