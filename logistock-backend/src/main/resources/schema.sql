CREATE USER IF NOT EXISTS "SA" SALT '705aaef6a3f3bf8a' HASH 'd69e8c374f3bc57ff49f57debcbaf581ef619b2f5d0600f90d7bb18eb2902a3d' ADMIN;
CREATE MEMORY TABLE "PUBLIC"."ADDRESS"(

    "ADDRESS_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 3) NOT NULL,

    "BUILDING_NAME" CHARACTER VARYING(255) NOT NULL,

    "CITY" CHARACTER VARYING(255) NOT NULL,

    "COUNTRY" CHARACTER VARYING(255) NOT NULL,

    "PINCODE" CHARACTER VARYING(255) NOT NULL,

    "STATE" CHARACTER VARYING(255) NOT NULL,

    "STREET" CHARACTER VARYING(255) NOT NULL,

    "USER_ID" BIGINT

);
ALTER TABLE "PUBLIC"."ADDRESS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_E" PRIMARY KEY("ADDRESS_ID");
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.ADDRESS;
CREATE MEMORY TABLE "PUBLIC"."CART_ITEM"(

    "CART_ITEM_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 2) NOT NULL,

    "DISCOUNT" FLOAT(53),

    "PRODUCT_PRICE" FLOAT(53),

    "QUANTITY" INTEGER,

    "CART_ID" BIGINT,

    "PRODUCT_ID" BIGINT

);
ALTER TABLE "PUBLIC"."CART_ITEM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_B" PRIMARY KEY("CART_ITEM_ID");
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.CART_ITEM;
CREATE MEMORY TABLE "PUBLIC"."CARTS"(

    "CART_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 2) NOT NULL,

    "TOTAL_PRICE" FLOAT(53),

    "USER_ID" BIGINT

);
ALTER TABLE "PUBLIC"."CARTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_3" PRIMARY KEY("CART_ID");
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.CARTS;
CREATE MEMORY TABLE "PUBLIC"."CATEGORY"(

    "CATEGORY_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 5) NOT NULL,

    "CATEGORY_NAME" CHARACTER VARYING(255) NOT NULL

);
ALTER TABLE "PUBLIC"."CATEGORY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_31" PRIMARY KEY("CATEGORY_ID");
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.CATEGORY;
CREATE MEMORY TABLE "PUBLIC"."ORDER_ITEMS"(

    "ORDER_ITEM_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,

    "DISCOUNT" FLOAT(53) NOT NULL,

    "ORDERED_PRODUCT_PRICE" FLOAT(53) NOT NULL,

    "QUANTITY" INTEGER,

    "ORDER_ID" BIGINT,

    "PRODUCT_ID" BIGINT

);
ALTER TABLE "PUBLIC"."ORDER_ITEMS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ORDER_ITEM_ID");
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ORDER_ITEMS;
CREATE MEMORY TABLE "PUBLIC"."ORDERS"(

    "ORDER_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,

    "EMAIL" CHARACTER VARYING(255) NOT NULL,

    "ORDER_DATE" DATE,

    "ORDER_STATUS" CHARACTER VARYING(255),

    "TOTAL_AMOUNT" FLOAT(53),

    "ADDRESS_ID" BIGINT,

    "PAYMENT_ID" BIGINT

);
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ORDER_ID");
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ORDERS;
CREATE MEMORY TABLE "PUBLIC"."PAYMENTS"(

    "PAYMENT_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,

    "PAYMENT_METHOD" CHARACTER VARYING(255) NOT NULL,

    "PG_NAME" CHARACTER VARYING(255),

    "PG_PAYMENT_ID" CHARACTER VARYING(255),

    "PG_RESPONSE_MESSAGE" CHARACTER VARYING(255),

    "PG_STATUS" CHARACTER VARYING(255)

);
ALTER TABLE "PUBLIC"."PAYMENTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_81" PRIMARY KEY("PAYMENT_ID");
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PAYMENTS;
CREATE MEMORY TABLE "PUBLIC"."PRODUCTS"(

    "PRODUCT_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 12) NOT NULL,

    "DESCRIPTION" CHARACTER VARYING(255),

    "DISCOUNT" FLOAT(53),

    "PRICE" FLOAT(53),

    "PRODUCT_IMAGE" CHARACTER VARYING(255),

    "PRODUCT_NAME" CHARACTER VARYING(255),

    "QUANTITY" INTEGER,

    "SPECIAL_PRICE" FLOAT(53),

    "CATEGORY_ID" BIGINT,

    "SELLER_ID" BIGINT

);
ALTER TABLE "PUBLIC"."PRODUCTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_F" PRIMARY KEY("PRODUCT_ID");
-- 11 +/- SELECT COUNT(*) FROM PUBLIC.PRODUCTS;
CREATE MEMORY TABLE "PUBLIC"."ROLE"(

    "ROLE_ID" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 4) NOT NULL,

    "ROLE_NAME" ENUM('ROLE_ADMIN', 'ROLE_SELLER', 'ROLE_USER')

);
ALTER TABLE "PUBLIC"."ROLE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_26" PRIMARY KEY("ROLE_ID");
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.ROLE;
CREATE MEMORY TABLE "PUBLIC"."USER_ROLE"(

    "USER_ID" BIGINT NOT NULL,

    "ROLE_ID" INTEGER NOT NULL

);
ALTER TABLE "PUBLIC"."USER_ROLE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_BC" PRIMARY KEY("USER_ID", "ROLE_ID");
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.USER_ROLE;
CREATE MEMORY TABLE "PUBLIC"."USERS"(

    "USER_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 4) NOT NULL,

    "EMAIL" CHARACTER VARYING(255),

    "PASSWORD" CHARACTER VARYING(120) NOT NULL,

    "USER_NAME" CHARACTER VARYING(255) NOT NULL

);
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("USER_ID");
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.USERS;
CREATE MEMORY TABLE "PUBLIC"."WISHLIST"(

    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,

    "CREATED_AT" TIMESTAMP(6),

    "PRODUCT_ID" BIGINT,

    "USER_ID" BIGINT

);
ALTER TABLE "PUBLIC"."WISHLIST" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_F4" PRIMARY KEY("ID");
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.WISHLIST;
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."UK6DOTKOTT2KJSP8VW4D0M25FB7" UNIQUE NULLS DISTINCT ("EMAIL");
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."UKHAUJDJK1OHMEIXJHNHSLCHRP1" UNIQUE NULLS DISTINCT ("PAYMENT_ID");
ALTER TABLE "PUBLIC"."CARTS" ADD CONSTRAINT "PUBLIC"."UK64T7OX312PQAL3P7FG9O503C2" UNIQUE NULLS DISTINCT ("USER_ID");
ALTER TABLE "PUBLIC"."ORDER_ITEMS" ADD CONSTRAINT "PUBLIC"."FKBIOXGBV59VETRXE0EJFUBEP1W" FOREIGN KEY("ORDER_ID") REFERENCES "PUBLIC"."ORDERS"("ORDER_ID") NOCHECK;
ALTER TABLE "PUBLIC"."PRODUCTS" ADD CONSTRAINT "PUBLIC"."FK1CF90ETCU98X1E6N9AKS3TEL3" FOREIGN KEY("CATEGORY_ID") REFERENCES "PUBLIC"."CATEGORY"("CATEGORY_ID") NOCHECK;
ALTER TABLE "PUBLIC"."WISHLIST" ADD CONSTRAINT "PUBLIC"."FK6P7QHVY1BFKRI13U29X6PU8AU" FOREIGN KEY("PRODUCT_ID") REFERENCES "PUBLIC"."PRODUCTS"("PRODUCT_ID") NOCHECK;
ALTER TABLE "PUBLIC"."CARTS" ADD CONSTRAINT "PUBLIC"."FKB5O626F86H46M4S7MS6GINNOP" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("USER_ID") NOCHECK;
ALTER TABLE "PUBLIC"."ADDRESS" ADD CONSTRAINT "PUBLIC"."FK6I66IJB8TWGCQTETL8EEEED6V" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("USER_ID") NOCHECK;
ALTER TABLE "PUBLIC"."PRODUCTS" ADD CONSTRAINT "PUBLIC"."FKBGW3LYXHSML3KFQNFR45O0VBJ" FOREIGN KEY("SELLER_ID") REFERENCES "PUBLIC"."USERS"("USER_ID") NOCHECK;
ALTER TABLE "PUBLIC"."ORDER_ITEMS" ADD CONSTRAINT "PUBLIC"."FKOCIMC7DTR037RH4LS4L95NLFI" FOREIGN KEY("PRODUCT_ID") REFERENCES "PUBLIC"."PRODUCTS"("PRODUCT_ID") NOCHECK;
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."FKF5464GXWC32ONGDVKA2RTVW96" FOREIGN KEY("ADDRESS_ID") REFERENCES "PUBLIC"."ADDRESS"("ADDRESS_ID") NOCHECK;
ALTER TABLE "PUBLIC"."USER_ROLE" ADD CONSTRAINT "PUBLIC"."FKJ345GK1BOVQVFAME88RCX7YYX" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("USER_ID") NOCHECK;
ALTER TABLE "PUBLIC"."WISHLIST" ADD CONSTRAINT "PUBLIC"."FKTRD6335BLSEFL2GXPB8LR0GR7" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("USER_ID") NOCHECK;
ALTER TABLE "PUBLIC"."CART_ITEM" ADD CONSTRAINT "PUBLIC"."FKQKQMVKMBTIAQN2NFQF25YMFS2" FOREIGN KEY("PRODUCT_ID") REFERENCES "PUBLIC"."PRODUCTS"("PRODUCT_ID") NOCHECK;
ALTER TABLE "PUBLIC"."CART_ITEM" ADD CONSTRAINT "PUBLIC"."FKLQWUO55W1GM4779XCU3T4WNRD" FOREIGN KEY("CART_ID") REFERENCES "PUBLIC"."CARTS"("CART_ID") NOCHECK;
ALTER TABLE "PUBLIC"."USER_ROLE" ADD CONSTRAINT "PUBLIC"."FKA68196081FVOVJHKEK5M97N3Y" FOREIGN KEY("ROLE_ID") REFERENCES "PUBLIC"."ROLE"("ROLE_ID") NOCHECK;
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."FK8AOL9F99S97MTYHIJ0TVFJ41F" FOREIGN KEY("PAYMENT_ID") REFERENCES "PUBLIC"."PAYMENTS"("PAYMENT_ID") NOCHECK;